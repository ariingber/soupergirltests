<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Souper Girl Tests</title>
</head>
<body>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>


  <link href="https://cdn.snipcart.com/themes/2.0/base/snipcart.min.css" type="text/css" rel="stylesheet" />
  <div>
    <div id="cleanse1Block" style="display: inline-block;
      width: 350px;
      height: 600px;
      overflow: hidden;
      margin: 10px;
      text-align:center;">
      <center>
        <img style="width:240px;" src="https://www.my7daydiet.com/images/wonder-soup.jpg" alt="">
      </center>
      <div style="text-decoration:underline;"> Souper 'Cleanse' 1 </div>
      <br>
      <div id="contentBox1" style="text-align:left; height:250px;">

        Each week's cleanse includes: 20 homemade, fully cooked soups
        A personalized daily menu and nutritional guide.
        Your "Cleanse" will be delivered on SCRIPT HERE between 4:00 and 8:00 PM or you can pick it up from our Takoma Location.
        <br><br>
        1 Week - $135<br>
        2 Weeks - $255<br>
        4 Weeks - $500<br>
        8 Weeks - $980
      </div>
      <button id="buyBTTN1">Buy Button</button>

      <div id="deliveryOptionsBox" style="display:none; text-align:left; height:250px;">
        <div>Pickup or delivery</div>
        <select name="delieveryMethod" id="delOPTS">
          <option value="selectOne">Select one </option>
          <option value="pickup">I would like to pickup in Takoma</option>
          <option value="delivery">I would like to have it delievered</option>
        </select>
      </div>

      <div id="pickupBOXandBuyBTN" style="display:none; text-align:left; height:250px;">
        <br>
        Your soup will be available for pickup at this time at this location.<br>
        If you have any allergy questions please email thesoupergirl@gmail.com
        <br><br>
        <button
          class="snipcart-add-item"
          data-item-id="2"
          data-item-name="Souper 'Cleanse' 1 (Pickup)"
          data-item-price="135.00"
          data-item-url="http://myapp.com/products/bacon2"
          data-item-description="blurb about souper cleanse 1"
          data-item-custom1-name="Weeks"
          data-item-custom1-options="1|2[+120.00]|4[+365.00]|8[+845.00]"
          data-item-custom1-value="One Week"
          >Continue to Checkout</button>
      </div>

      <div id="deliveryBOXandBuyBTN" style="display:none; text-align:left; height:250px;">
        <div id="zipEntry">
          <br>
          Enter your zip to check if we deliver the Souper "Cleanse" to you.
          <input id="zipInput" type="text" />
          <br>
          <button id="zipBTN">Submit</button>
        </div>
        <div id="zipAnswer1" style="display:none;">
          <br>
          Don't deliver to you at this time.  Click <span id="backToPickup" style="color:blue; cursor:pointer;">this</span> if you want to pickup your order from our Takoma location.
        </div>
        <div id="zipAnswer2" style="display:none;">
          <br>
          We deliver to your zip code!<br>
          Proceeded to check out to purchase Souper 'Cleanse' 1<br>
          If you have any allergy questions please email thesoupergirl@gmail.com
          <br>
          <button
            class="snipcart-add-item"
            data-item-id="3"
            data-item-name="Souper 'Cleanse' 1 (Delivery)"
            data-item-price="135.00"
            data-item-url="http://myapp.com/products/bacon2"
            data-item-description="blurb about souper cleanse 1 deliver option"
            data-item-custom1-name="Weeks"
            data-item-custom1-options="1|2[+120.00]|4[+365.00]|8[+845.00]"
            data-item-custom1-value="One Week"
            >Continue to Checkout</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    document.getElementById('backToPickup').addEventListener('click', function() {
      document.getElementById('deliveryBOXandBuyBTN').style.display = 'none';
      document.getElementById('deliveryOptionsBox').style.display = 'block';
    })
  </script>
  <script>
    document.getElementById('buyBTTN1').addEventListener('click', function() {
    document.getElementById('contentBox1').style.display = 'none';
    document.getElementById('buyBTTN1').style.display = 'none';
    document.getElementById('deliveryOptionsBox').style.display = 'block';
    })
  </script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
        if ( document.getElementById('snipcart') ) {
          var el = document.getElementById('snipcart');
          el.parentNode.removeChild(el);
          console.log('done')
        }

        document.querySelector('select[name="delieveryMethod"]').onchange=changeEventHandler;
      },false);

      function changeEventHandler(event) {
        var pickupCheckoutScript = document.createElement('script');
        var deliveryCheckoutScript = document.createElement('script');
        if (event.target.value === 'pickup') {
          document.getElementById('deliveryOptionsBox').style.display = 'none';
          document.getElementById('deliveryBOXandBuyBTN').style.display = 'none';
          document.getElementById('pickupBOXandBuyBTN').style.display = 'block';
          pickupCheckoutScript.setAttribute('src','https://cdn.snipcart.com/scripts/2.0/snipcart.js');
          pickupCheckoutScript.setAttribute('type','text/javascript');
          pickupCheckoutScript.setAttribute('id','snipcart');
          pickupCheckoutScript.setAttribute('data-api-key','OWVlOGQxMTQtY2JiOC00ZWIwLWFlNzYtYmYxNjAxN2JkYWQ3NjM2MjQ0MDU4NjU2MTg1NDMw');
          pickupCheckoutScript.setAttribute('data-cart-custom1-name','I understand the disclaimer and terms of use regarding the purchase of this product.');
          pickupCheckoutScript.setAttribute('data-cart-custom1-options','true|false');
          pickupCheckoutScript.setAttribute('data-cart-custom1-required','true');
          document.head.appendChild(pickupCheckoutScript);
        }
        else {
          document.getElementById('deliveryOptionsBox').style.display = 'none';
          document.getElementById('deliveryBOXandBuyBTN').style.display = 'block';
          document.getElementById('pickupBOXandBuyBTN').style.display = 'none';
          deliveryCheckoutScript.setAttribute('src','https://cdn.snipcart.com/scripts/2.0/snipcart.js');
          deliveryCheckoutScript.setAttribute('type','text/javascript');
          deliveryCheckoutScript.setAttribute('id','snipcart');
          deliveryCheckoutScript.setAttribute('data-api-key','OWVlOGQxMTQtY2JiOC00ZWIwLWFlNzYtYmYxNjAxN2JkYWQ3NjM2MjQ0MDU4NjU2MTg1NDMw');
          deliveryCheckoutScript.setAttribute('data-cart-custom1-name','Delivery Address Street City Zipcode');
          deliveryCheckoutScript.setAttribute('data-cart-custom2-name','Addtional Delivery Instructions');
          deliveryCheckoutScript.setAttribute('data-cart-custom3-name','I understand the disclaimer and terms of use regarding the purchase of this product.');
          deliveryCheckoutScript.setAttribute('data-cart-custom3-options','true|false');
          deliveryCheckoutScript.setAttribute('data-cart-custom3-required','true');
          document.head.appendChild(deliveryCheckoutScript);
        }
      }
  </script>
<script>
  function zipcheck () {
    var okZips = ['1','2','3'];
    var value = document.getElementById('zipInput').value;
    var found = okZips.includes(value);
    if (found) {
      document.getElementById('zipEntry').style.display = 'none';
      document.getElementById('zipAnswer1').style.display= 'none';
      document.getElementById('zipAnswer2').style.display= 'block';
    } else {
      document.getElementById('zipAnswer1').style.display= 'block';
      document.getElementById('zipAnswer2').style.display= 'none';
    }
   }
    document.getElementById('zipBTN').addEventListener('click', function() {
      zipcheck ();
    })
</script>

</body>
</html>
